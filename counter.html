<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>bah guri</title>
		<style type="text/css">
			header{
				display: flex;
				justify-content: space-between;
			}
			p{
				font-family: comic sans ms;
			}
			#aa{
				
			}
			.itens{
				height: 75px;
				width: 100px;
				border: gray 2px solid;
				margin-right: 10px;
				position: relative;
			}
			.numero{
				position: absolute;
				bottom: -18px;
				right: 2px;
			}
			#loja{
				display: flex;
			}
			.itenimg{
				margin: 0 auto 0 auto;
				max-width: 100px;
				width: auto;
				height: 100%;
			}
			#valdecute{
				width: 400px;
				cursor: pointer;
			}
			#teste{
				position: absolute;
				left: -50px;
				display: none;
			}
			#modal{
				display: none; /* Hidden by default */
				position: fixed; /* Stay in place */
				z-index: 1; /* Sit on top */
				left: 0;
				top: 0;
				width: 100%; /* Full width */
				height: 100%; /* Full height */
				overflow: auto; /* Enable scroll if needed */
				background-color: rgb(0,0,0); /* Fallback color */
				background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
				overflow-y: hidden;
			}
			#content {
				background-color: #fefefe;
				margin: 15% auto; /* 15% from the top and centered */
				padding: 20px;
				border: 1px solid #888;
				width: 80%; /* Could be more or less, depending on screen size */
			}
			.close {
			  color: #aaa;
			  float: right;
			  font-size: 28px;
			  font-weight: bold;
			}
			.close:hover,
			.close:focus {
			  color: black;
			  text-decoration: none;
			  cursor: pointer;
			}
			.imgmucholoka{
				max-width: 250px;
				height: 170px;
			}
			section{
				justify-content: space-around;
				display: flex;
			}
			.buy{
				width: 100px;
				font-family: helvetica;
				cursor: pointer;
				border: solid 2px gray;
			}
			.buy:hover{
				border: 2px solid black;
				background:black;
				color: white;
			}
			.critical{
				animation:critico 2s;
				opacity: 0;
				position: absolute;
				bottom: 500px;
				right: 400px;
				font-size: 3rem;
			}
			.pontos{
				animation:cabelos 2s;
				opacity: 0;
				position: absolute;
				bottom: 500px;
				right: 300px;
				font-size: 3rem;
			}
			@keyframes cabelos {
			    from{ 
			    	opacity: 1;
			    	top: 20px;
			    }
			    to { 
			    	opacity: 0;
			    	top: -50px;
			    }
			}
			@keyframes critico {
			    from{ 
			    	opacity: 1;
			    	top: 20px;
			    }
			    to { 
			    	opacity: 0;
			    	top: -50px;
			    }
			}
			body{
				background:blue;
				touch-action: manipulation;
			}
		</style>
	</head>
	<body>
		<center>
			<header id="consumiveis">
				<div id="loja">
					<div class="itens" onclick="ativarPaçoca()" alt="comer paçoca">
						<img class="itenimg" src="dog.jpg" alt="">
						<p class="numero" id="boamemo">paçoca</p>
					</div>
					<div class="itens">
						<img class="itenimg" src="capivar.jpg" alt="">
						<p class="numero" id="gelada">cocas</p>
					</div>
					<div class="itens" id="facao">
						<img class="itenimg" src="facao.jpg" alt="">
						<p class="numero" id="sharpness">0</p>
					</div>
				</div>
				<div class="itens" id="dindin">
					<p>Cabelos</p>
					<p id="teste"></p>
					<p id="coins">Cabelos</p>
				</div>
			</header>
			<div id="aa">
				<img onclick="bahGuri()" id="valdecute" src="professorciencias.png" alt="">
			</div>
			<div onclick="shop()">
				<img src="guri.png" alt="">
			</div>
			<div id="modal">
				<div id="content">
					<span class="close" onclick="close()">&times;</span>
					<section>
						<div class="powerups" id="coca">
							<img class="imgmucholoka" src="capivar.jpg" alt="">
							<p id="priceCapivar">0</p>
							<div class="buy" onclick="compararcoquinhagelada()">Comprar</div>
						</div>
						<div class="powerups" id="paçoca">
							<img class="imgmucholoka" src="dog.jpg" alt="">
							<p id="priceCao">0</p>
							<div class="buy" onclick="buchimchei()">Comprar</div>
						</div>
						<div class="powerups" id="facao">
							<img class="imgmucholoka" src="facao.jpg" alt="">
							<p id="priceFacao">0</p>
							<div class="buy" onclick="afiado()">Comprar</div>
						</div>
					</section>
				</div>
			</div>
		</center>
		<script>
			var coquinha = sessionStorage.getItem("coquinha");
			var cocas = parseInt(coquinha, 10);
			var bao = sessionStorage.getItem("paçoca");
			var paçoca = parseInt(bao, 10);
			var pontos = sessionStorage.getItem("pontis");
			var pontis = parseInt(pontos, 10);
			var faca = sessionStorage.getItem("faca");
			var facoes = parseInt(faca, 10)
			
			function div() {
				document.getElementById('coins').innerHTML = pontis;
			}
			function dog() {
				document.getElementById('boamemo').innerHTML = paçoca;
			}
			function cola() {
				document.getElementById('gelada').innerHTML = cocas;
			}
			function knife() {
				document.getElementById('sharpness').innerHTML = facoes;
			}
			function bahGuri() {
				pontis += 2+cocas;
				div();
				sessionStorage.setItem("pontis", pontis);
				var cabelo = document.createElement("p");
				cabelo.innerHTML = "+"+(cocas+2);
				document.body.appendChild(cabelo);
				cabelo.classList.add("pontos");
				setTimeout(function () {
					cabelo.parentNode.removeChild(cabelo)
				}, 2000)
				if (facoes >= 1) {
					var critical = Math.floor(Math.random() * (0 +100));
					if (critical <= facoes) {
						pontis += (2+cocas)*2;
						div();
						sessionStorage.setItem("pontis", pontis);
						var critical = document.createElement("p");
						critical.innerHTML = "Critico!!!";
						document.body.appendChild(critical);
						critical.classList.add("critical");
						setTimeout(function () {
							critical.parentNode.removeChild(critical)
						}, 2000)
					}
				}
			}
			function shop() {
				document.getElementById('modal').style.display = "block";
				sessionStorage.setItem("pontis", pontis);
			}
			function close(){
				document.getElementById('modal').style.display = "none";
			}
			window.onclick = function(event) {
				if (event.target == modal) {
					modal.style.display = "none";
				}
			}

			function dogbike() {
				if (paçoca >= 1){
					dog();
					var mine = setInterval(frame, 1000);
					function frame() {
						pontis += 1*paçoca;
						div();
						sessionStorage.setItem("pontis", pontis);
					}
				}
			}
			function afiado(){
				if (pontis >= 500*facoes) {
					pontis -= 500*facoes;
					facoes += 1;
					sessionStorage.setItem("faca", facoes);
					sessionStorage.setItem("pontis", pontis);
					div();
					knife();
					document.getElementById('priceFacao').innerHTML = 300*facoes;
				}else{
					sessionStorage.setItem("pontis", pontis);
					alert('SAI PLEBEU!');
					window.location.href = "counter.html";
				}
			}
			function buchimchei() {
				if (pontis >= 200*paçoca) {
					pontis -= 200*paçoca;
					paçoca += 1;
					sessionStorage.setItem("paçoca", paçoca);
					sessionStorage.setItem("pontis", pontis);
					div();
					dogbike();
					document.getElementById('priceCao').innerHTML = 200*paçoca;
				}else{
					sessionStorage.setItem("pontis", pontis);
					alert('SAI PLEBEU!');
					window.location.href = "counter.html";
				}
			}
			function compararcoquinhagelada() {
				if (pontis >= 200*cocas) {
					pontis -= 200*cocas
					cocas += 1;
					sessionStorage.setItem("coquinha", cocas);
					sessionStorage.setItem("pontis", pontis);
					div();
					cola();
					document.getElementById('priceCapivar').innerHTML = 200*cocas;
				}else{
					sessionStorage.setItem("pontis", pontis);
					alert('SAI PLEBEU!');
					window.location.href = "counter.html";
				}
			}
			document.getElementById('priceFacao').innerHTML = 500*facoes;
			document.getElementById('priceCao').innerHTML = 200*paçoca;
			document.getElementById('priceCapivar').innerHTML = 200*cocas;
			div();
			dog();
			cola();
			knife();
			dogbike();
		</script>
	</body>
</html>
